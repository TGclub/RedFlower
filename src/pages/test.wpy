<style lang="scss" type="text/scss">
	@import "../common/styles/variables.scss";
	@import "../common/styles/common.scss";

	page{
		overflow: visible;
	}

	.btns{
		position: fixed;
		bottom: 0;
		display: flex;
		justify-content: space-around;
		flex-wrap: wrap;
	}

	.change-btn{
		width: 100%;
		color: $blue;
		text-align: center;
		font-size: 32rpx;
		margin-top: 50rpx;
	}
</style>

<template>
	<ava :srclist='srclist' usersrc='../static/images/contacts/avatar.jpg'></ava>
	<!-- 跳转按钮部分 -->
	<view class=".l-row btns">
		<firbtn title='扩展我的人脉网'></btn>
		<secbtn title='查看我的人脉圈' @btnClick.user='jumpToGroups' color='white-border'></btn>
		<view class="change-btn" @tap='changeGroup'>换一批</view>
	</view>
</template>

<script>
	import page from './base/basicPage'
	import Button from '../components/Button/Button'
	import AvatarNet from '../components/User/AvatarNet'

	export default class Contacts extends page {
		config = {
			navigationBarTitleText: '我的人脉网'
		}

		components = {
			firbtn: Button,
			secbtn: Button,
			ava: AvatarNet
		}

		methods = {
			// 应在此方法中重新请求网络，刷新头像列表
			changeGroup (e) {
				this.$broadcast('changeGroup', e)
			}
		}

		data = {
			// userhead: '',
			srclist: []
		}

		onLoad () {
			console.log('test');

			// 因后端接口未完成，故填入假数据 #issue: 头像为何传不过去？？
			// this.userhead = '../static/images/contacts/avatar.jpg';
			// 还是假数据
			for(let i = 0; i < 9; i++) {
				this.srclist[i] = '../static/images/contacts/avatar.jpg';
			}

			this.$apply();
		}
	}
</script>
